import{createContext as x,useContext as P}from"react";import{jsx as C}from"react/jsx-runtime";var R=x({draggerRef:void 0}),g=({value:e,children:t})=>C(R.Provider,{value:e,children:t}),p=()=>{let e=P(R);if(e===void 0)throw new Error("useResizerContext must be used within a ResizerProvider.");return e};import{useEffect as h,useRef as c,useState as E}from"react";var z=()=>{let e=c(null),t=c(null),r=c(null),o=c(!1),[n,i]=E(!1),u=()=>{o.current=!1},d=()=>{o.current=!0},l=a=>{var v;let{x:s}=a,{x:f}=(v=e.current)==null?void 0:v.getBoundingClientRect();o.current===!0&&(t.current&&(t.current.style.width=`${s-f}px`),n===!1&&t.current&&s-f<50?(i(!0),r.current&&(r.current.style.marginLeft="0")):n===!0&&s-f>55&&(i(!1),r.current&&r.current.style.marginLeft))};return h(()=>{var a;return document.addEventListener("mouseup",u),(a=r.current)==null||a.addEventListener("mousedown",d),document.addEventListener("mousemove",l),()=>{var s;document.removeEventListener("mouseup",u),(s=r.current)==null||s.removeEventListener("mousedown",d),document.removeEventListener("mousemove",l)}},[n]),{parent:e,dragger:r,sidebar:t,hideContent:n}};import{jsx as m}from"react/jsx-runtime";var L=({maxW:e,maxH:t,dir:r="horizontal",children:o})=>{let{parent:n,dragger:i,sidebar:u,hideContent:d}=z();return m(g,{value:{draggerRef:i},children:m("div",{className:"resizer",ref:n,children:m("div",{className:"resizer_content",ref:u,style:{display:d?"none":"block"},children:o})})})},D=()=>{let e=p();return m("div",{className:"resizer_dragger",ref:e.draggerRef})};L.Dragger=D;export{L as Resizer};
